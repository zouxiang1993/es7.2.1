## 0. 搜索引擎认知
### 0.1 搜索引擎是什么
### 0.2 倒排索引 VS 正排索引
### 0.3 搜索相关性模型
### 0.4 分词 
    中文分词原理
### 0.5 检索质量评价标准
准确率 召回率 

## 1. Elasticsearch认知
### 1.1 ES是什么
### 1.2 ES能干什么
### 1.3 ES与Lucene，solr的不同
### 1.4 ES的核心优势

## 2. ES基础
### 2.1 ES基础概念
集群，节点，分片，副本，索引，类型，文档，路由，id序列，mapping，模板

### 2.2 ES基本数据类型
#### 2.2.1 基础类型
string类型: keyword, text

数值类型: long, integer, short, byte, double, float, half_float, scaled_float

时间类型: date

布尔类型: boolean
 
二进制类型: binary

区间类型: integer_range, float_range, long_range, double_range, date_range

#### 2.2.2 复杂类型
数组类型 Array  

对象类型 Object 

嵌套类型 Nested 

#### 2.2.3 其他类型
地理位置: geo-point, geo-shape  

IP类型: ip  

自动补全类型:  completion 

token_count 

percolate  

mumur3 

alias 

### 2.3 基本查询类型
#### 2.3.0 query & filter 区别
#### 2.3.1 结构化查询
#### 2.3.2 全文查询
#### 2.3.3 复合查询 
#### 2.3.4 其他查询
父子文档  

地理位置 

相似文章检索

脚本


### 2.4 基本聚合类型
#### 2.4.1 Metric聚合
#### 2.4.2 桶聚合
#### 2.4.3 pipeline聚合 

### 2.5 ??????
#### 2.5.0 ES集群基本操作 
集群状态分类 
green / yellow /red 

集群状态监控  
集群状态: state   
集群统计: stats  
集群任务管理: tasks  
节点信息: nodes  
热点线程:  hot_threads

集群备份: _snapshot  _restore   

#### 2.5.1  ES索引基本操作 
PUT, DELETE, GET 

索引数据迁移: reindex   
第三方工具: 
- elasticsearch-dump 
- elasticsearch-exporter
- logstash
- elasticsearch-migration

修改副本数
索引压缩: shrink

#### 2.5.2 ES文档基本操作 
- 增   
单个文档写入  
批量写入 bulk  
第三方导入: logstash_input_*,  hadoop,  spark,  kafka  
- 删  
单个删除  delete  
批量删除 delete_by_query
- 改 
update   update_by_query  
-查  
get   scroll  
分页: from+size  /  search_after 
调试:  profile: true 


## 3. ??  
### 3.0 ES集群规划
节点数规划:  
master   client路由节点  data数据节点 

分片/副本规划：   
ES每个分片支持的数据量

ES堆内存优化

ES线程数，队列优化

### 3.1 ES数据建模

### 3.2 ES生命周期管理
基于时间轴动态创建索引:  template, rollover 

定时清理索引:  curator 

Elasticsearch 冷热数据分离 

### 3.3 ES写入性能优化
bulk值调整  线程池队列调整

refresh时间间隔调整，甚至禁用refresh 

写前关闭副本 

尽量使用自动生成id  

### 2.4 查询性能优化  
索引设置调整 ，  mapping调整 ，  
返回字段太多，  慢查询日志，  
监控集群状态:   cpu/内存/堆内存/是否有并行写入  

避免使用script  
只读数据force_merge    
范围检索使用keyword而非range !!!!  
